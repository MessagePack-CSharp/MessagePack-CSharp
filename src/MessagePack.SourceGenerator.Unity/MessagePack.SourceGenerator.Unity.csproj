<Project Sdk="Microsoft.NET.Sdk">

  <Import Project="..\SourceGenerator.props" />

  <PropertyGroup>
    <DefineConstants>$(DefineConstants);UNITY</DefineConstants>
    <IsPackable>false</IsPackable>
    <RootNamespace>MessagePack.SourceGenerator</RootNamespace>
    <MicrosoftCodeAnalysisVersion>$(CodeAnalysisVersionForUnity)</MicrosoftCodeAnalysisVersion>
  </PropertyGroup>

  <ItemGroup>
    <AdditionalFiles Include="..\MessagePack.SourceGenerator\AnalyzerReleases.Shipped.md" />
    <AdditionalFiles Include="..\MessagePack.SourceGenerator\AnalyzerReleases.Unshipped.md" />
  </ItemGroup>

  <ItemGroup>
    <Compile Include="..\MessagePack.SourceGenerator\Analyzers\**\*.cs" LinkBase="Analyzers" />
    <Compile Include="..\MessagePack.SourceGenerator\CodeAnalysis\**\*.cs" LinkBase="CodeAnalysis" />
    <Compile Include="..\MessagePack.SourceGenerator\Properties\**\*.cs" LinkBase="Properties" />
    <Compile Include="..\MessagePack.SourceGenerator\Transforms\**\*.cs" LinkBase="Transforms" />
    <Compile Include="..\MessagePack.SourceGenerator\Utils\**\*.cs" LinkBase="Utils" />
    <Compile Include="..\MessagePack.SourceGenerator\IGeneratorContext.cs" />
    <Compile Include="..\MessagePack.SourceGenerator\MessagePackGenerator.Emit.cs" />
    <Compile Include="..\MessagePack.SourceGenerator\Usings.cs" />
    <Compile Include="..\MessagePack.UnityClient\Assets\Scripts\MessagePack\Internal\AutomataKeyGen.cs" LinkBase="MessagePack\Internal" />
    <Compile Include="..\MessagePack.UnityClient\Assets\Scripts\MessagePack\SafeBitConverter.cs" LinkBase="MessagePack" />
    <Compile Include="..\MessagePack.UnityClient\Assets\Scripts\MessagePack\MessagePackSerializationException.cs" LinkBase="MessagePack" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="..\MessagePack.SourceGenerator\Strings.resx" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.CodeAnalysis.ResxSourceGenerator" />
  </ItemGroup>
</Project>
